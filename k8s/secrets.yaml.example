# =============================================================================
# EXEMPLE - Secrets Kubernetes pour OpenMetadata
# ATTENTION: Ne pas committer ce fichier avec de vrais mots de passe !
# Copier ce fichier en secrets.yaml et modifier les valeurs.
# =============================================================================

---
apiVersion: v1
kind: Secret
metadata:
  name: mysql-secrets
  namespace: openmetadata
type: Opaque
stringData:
  openmetadata-mysql-password: "openmetadata_password"

---
apiVersion: v1
kind: Secret
metadata:
  name: airflow-secrets
  namespace: openmetadata
type: Opaque
stringData:
  openmetadata-airflow-password: "admin"

---
apiVersion: v1
kind: Secret
metadata:
  name: elasticsearch-secrets
  namespace: openmetadata
type: Opaque
stringData:
  openmetadata-elasticsearch-password: ""

---
apiVersion: v1
kind: Secret
metadata:
  name: oidc-secrets
  namespace: openmetadata
type: Opaque
stringData:
  # Keycloak / OIDC client credentials
  openmetadata-oidc-client-id: "openmetadata"
  openmetadata-oidc-client-secret: "CHANGE_ME"

---
apiVersion: v1
kind: Secret
metadata:
  name: oauth2-proxy-secrets
  namespace: openmetadata
type: Opaque
stringData:
  # Keycloak client secret (mÃªme valeur que openmetadata-oidc-client-secret ci-dessus)
  OAUTH2_PROXY_CLIENT_SECRET: "CHANGE_ME"
  # Cookie secret 16 octets, base64 URL-safe :
  #   python3 -c "import secrets,base64; print(base64.urlsafe_b64encode(secrets.token_bytes(16)).decode())"
  OAUTH2_PROXY_COOKIE_SECRET: "CHANGE_ME_16B_BASE64"
